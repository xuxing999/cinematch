@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;900&family=Inter:wght@300;400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-dark-100;
    box-sizing: border-box;
  }

  :root {
    --font-playfair: 'Playfair Display', Georgia, serif;
    --font-inter: 'Inter', system-ui, sans-serif;
  }

  html {
    -webkit-text-size-adjust: 100%;
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-feature-settings: 'kern' 1, 'liga' 1;
    -webkit-font-smoothing: antialiased;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-serif;
  }

  /* 細緻捲軸 */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-dark-50 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #4a4540;
  }

  /* 安全邊距 */
  .pb-safe {
    padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
  }
}

@layer components {

  /* ── 復古主要按鈕 ── */
  .btn-vintage {
    @apply relative bg-neon-red border border-neon-red/80 text-white overflow-hidden transition-all duration-200;
  }

  .btn-vintage:hover:not(:disabled) {
    @apply bg-neon-red/90 shadow-neon-red;
    transform: translateY(-1px);
  }

  .btn-vintage:active:not(:disabled) {
    transform: translateY(0);
  }

  /* ── 復古卡片 ── */
  .card-neon {
    @apply bg-dark-100 border border-dark-50/60 rounded-xl p-4 transition-all duration-200;
  }

  .card-neon:hover {
    @apply border-neon-red/40 shadow-card-hover;
  }

  /* ── 標題文字（移除霓虹，改用奶油白） ── */
  .text-neon-glow {
    @apply text-foreground font-serif;
    letter-spacing: -0.01em;
  }

  /* ── 背景（純色炭灰，移除漸層） ── */
  .gradient-neon {
    @apply bg-background;
  }

  /* ── 玻璃效果（更新為暖調） ── */
  .glass {
    background: rgba(30, 28, 26, 0.92);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    @apply border border-dark-50/40;
  }

  /* ── 分隔線 ── */
  .divider-vintage {
    @apply border-t border-dark-50/40 my-4;
  }

  /* ── 輸入框基礎樣式 ── */
  .input-vintage {
    @apply w-full px-4 py-3 bg-dark-200 border border-dark-50/60 rounded-lg
           text-foreground placeholder-stone-500
           focus:outline-none focus:border-neon-red/60 focus:ring-1 focus:ring-neon-red/30
           transition-all duration-200;
  }

  /* ── 淡入動畫 ── */
  .animate-fade-in {
    animation: fadeIn 0.25s ease-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(6px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ── 滑入動畫 ── */
  .animate-slide-up {
    animation: slideUp 0.35s ease-out;
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* ── 活動指示點（取代霓虹脈衝） ── */
  .status-dot {
    @apply w-2 h-2 rounded-full bg-neon-purple;
  }

  /* ── 復古章節標題線 ── */
  .heading-rule {
    @apply flex items-center gap-3 text-stone-500 text-xs tracking-widest uppercase;
  }

  .heading-rule::before,
  .heading-rule::after {
    content: '';
    @apply flex-1 border-t border-dark-50/60;
  }
}

@layer utilities {
  /* 文字省略 */
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* 過渡捲動 */
  .scroll-smooth-x {
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
  }
}
